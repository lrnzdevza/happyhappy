(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45],{9436:function(e,t,r){Promise.resolve().then(r.t.bind(r,6964,23)),Promise.resolve().then(r.t.bind(r,4724,23)),Promise.resolve().then(r.t.bind(r,1565,23)),Promise.resolve().then(r.t.bind(r,7580,23)),Promise.resolve().then(r.bind(r,3412))},2597:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return c},unstable_getImgProps:function(){return l}});let o=r(1024),n=r(3655),a=r(7707),i=r(6964),s=o._(r(5324)),l=e=>{(0,a.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,n.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}},c=i.Image},3412:function(e,t,r){"use strict";r.r(t),r.d(t,{UserInfo:function(){return c}});var o=r(7437);r(2265);var n=r(6691),a=r.n(n),i=r(7992),s=r(3198),l=r.n(s);let c=()=>{let{user:e}=(0,i.a)();return(0,o.jsxs)("div",{className:l().profile,children:[(0,o.jsx)(a(),{src:"/assets/icons/profile.svg",alt:"profile",width:50,height:50}),(0,o.jsxs)("div",{className:l().profileInfo,children:[(0,o.jsx)("p",{className:l().name,children:null==e?void 0:e.name}),(0,o.jsx)("p",{className:l().email,children:null==e?void 0:e.email})]})]})}},7992:function(e,t,r){"use strict";r.d(t,{H:function(){return i},a:function(){return s}});var o=r(7437),n=r(2265);let a=(0,n.createContext)({}),i=e=>{let{children:t}=e,[r,i]=(0,n.useState)(),[s,l]=(0,n.useState)(),c=(0,n.useCallback)(async e=>{try{let r=await fetch("".concat("https://happy-hearts.payloadcms.app","/api/users/create"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password,passwordConfirm:e.passwordConfirm})});if(r.ok){var t;let{data:e,errors:o}=await r.json();if(o)throw Error(o[0].message);i(null==e?void 0:null===(t=e.loginUser)||void 0===t?void 0:t.user),l("loggedIn")}else throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]),u=(0,n.useCallback)(async e=>{try{let t=await fetch("".concat("https://happy-hearts.payloadcms.app","/api/users/login"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})});if(t.ok){let{user:e,errors:r}=await t.json();if(r)throw Error(r[0].message);return i(e),l("loggedIn"),e}throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]),d=(0,n.useCallback)(async()=>{try{let e=await fetch("".concat("https://happy-hearts.payloadcms.app","/api/users/logout"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok)i(null),l("loggedOut");else throw Error("An error occurred while attempting to logout.")}catch(e){throw Error("An error occurred while attempting to logout.")}},[]);(0,n.useEffect)(()=>{let e=async()=>{try{let e=await fetch("".concat("https://happy-hearts.payloadcms.app","/api/users/me"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){let{user:t}=await e.json();i(t||null),l(t?"loggedIn":void 0)}else throw Error("An error occurred while fetching your account.")}catch(e){throw i(null),Error("An error occurred while fetching your account.")}};e()},[]);let p=(0,n.useCallback)(async e=>{try{let r=await fetch("".concat("https://happy-hearts.payloadcms.app","/api/users/forgot-password"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email})});if(r.ok){var t;let{data:e,errors:o}=await r.json();if(o)throw Error(o[0].message);i(null==e?void 0:null===(t=e.loginUser)||void 0===t?void 0:t.user)}else throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]),h=(0,n.useCallback)(async e=>{try{let o=await fetch("".concat("https://happy-hearts.payloadcms.app","/api/users/reset-password"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e.password,passwordConfirm:e.passwordConfirm,token:e.token})});if(o.ok){var t,r;let{data:e,errors:n}=await o.json();if(n)throw Error(n[0].message);i(null==e?void 0:null===(t=e.loginUser)||void 0===t?void 0:t.user),l((null==e?void 0:null===(r=e.loginUser)||void 0===r?void 0:r.user)?"loggedIn":void 0)}else throw Error("Invalid login")}catch(e){throw Error("An error occurred while attempting to login.")}},[]);return(0,o.jsx)(a.Provider,{value:{user:r,setUser:i,login:u,logout:d,create:c,resetPassword:h,forgotPassword:p,status:s},children:t})},s=()=>(0,n.useContext)(a)},3198:function(e){e.exports={profile:"UserInfo_profile__F8FR3",profileInfo:"UserInfo_profileInfo__rHZfI",name:"UserInfo_name__7YulW",email:"UserInfo_email__Iwt8Y"},e.exports.__checksum="c38ae4ad05b4"},1565:function(e){e.exports={container:"account_container__BogPi",account:"account_account__B33_e",nav:"account_nav__LYaNv",navItem:"account_navItem__R5OGu",personalInfo:"account_personalInfo__l9oxj"},e.exports.__checksum="989b360f2763"},7580:function(e){e.exports={gutter:"Gutter_gutter__QB0_n",gutterLeft:"Gutter_gutterLeft__9iSai",gutterRight:"Gutter_gutterRight__4jfEx"},e.exports.__checksum="8b7edfbc03b1"},6691:function(e,t,r){e.exports=r(2597)}},function(e){e.O(0,[724,54,971,864,744],function(){return e(e.s=9436)}),_N_E=e.O()}]);